# Version Configuration Files

This project uses a hybrid approach to version management with multiple configuration files for flexibility and team coordination.

## File Structure

```
finalpoint-mobile/
├── version-config.template.json  # Template configuration (COMMITTED to git)
├── version-config.local.json     # Local configuration (GITIGNORED, auto-generated)
├── version-config.json           # Project configuration (optional, can be committed)
└── .gitignore                    # Ignores version-config.local.json
```

## File Descriptions

### **1. `version-config.template.json` (COMMITTED to git)**

- **Purpose**: Base template for all team members
- **Content**: Standard version configuration for all environments
- **Updates**: Manual updates when releasing new versions
- **Team Sync**: Ensures everyone has the same base configuration

### **2. `version-config.local.json` (GITIGNORED)**

- **Purpose**: Local overrides and auto-generated updates
- **Content**: Automatically updated during builds
- **Updates**: Auto-generated by version management system
- **Local Only**: Each developer has their own copy

### **3. `version-config.json` (OPTIONAL)**

- **Purpose**: Project-specific overrides
- **Content**: Custom version configuration for the project
- **Updates**: Manual updates when needed
- **Team Sync**: Can be committed for project-wide changes

## File Priority

The system loads configuration files in this order (highest priority first):

1. **`version-config.local.json`** - Local overrides (gitignored)
2. **`version-config.json`** - Project-specific configuration
3. **`version-config.template.json`** - Base template (committed to git)
4. **Default values** - Hardcoded fallbacks in code

## Usage

### **For Team Members**

1. **Initial Setup**: Run `npm run version:init` to create local config
2. **Daily Development**: Build normally, versions auto-increment
3. **Version Sync**: Use `npm run version:reset` to sync with template
4. **Status Check**: Use `npm run version:status` to see current versions

### **For Team Leads**

1. **Update Template**: Edit `version-config.template.json` for new releases
2. **Commit Changes**: Push template updates to git
3. **Team Notification**: Let team know to run `npm run version:reset`
4. **Version Coordination**: Ensure consistent versions across team

### **For CI/CD**

1. **Template File**: Always available from git
2. **Local Config**: Auto-generated during builds
3. **Version Management**: Automatic during any build process
4. **Consistency**: Same behavior regardless of build method

## Commands

```bash
# Initialize local version configuration
npm run version:init

# Check version status and configuration sources
npm run version:status

# Increment versions for an environment
npm run version:increment <environment> [type]

# Reset to template values
npm run version:reset

# Show help
npm run version:help
```

## Benefits of This Approach

### **✅ Team Coordination**
- Template file ensures everyone starts with same versions
- Version changes are tracked in git history
- Easy to coordinate releases across team

### **✅ Local Flexibility**
- Developers can have local overrides
- No conflicts between team members
- Local changes don't affect others

### **✅ Build Consistency**
- Same version management regardless of build method
- Automatic version updates during builds
- No manual version tracking needed

### **✅ Git Management**
- Template file is committed (version history)
- Local file is gitignored (no conflicts)
- Clean git history with meaningful changes

## Example Workflow

### **Daily Development**
```bash
# Build for development (auto-increments versions)
npm run build:dev

# Check current versions
npm run version:status
```

### **Release Preparation**
```bash
# Update template with new production version
# Edit version-config.template.json
git add version-config.template.json
git commit -m "Bump production version to 1.1.0"
git push

# Team members sync
npm run version:reset
```

### **Emergency Fixes**
```bash
# Local override for testing
# Edit version-config.local.json
npm run build:dev

# Reset when done
npm run version:reset
```

## Troubleshooting

### **File Not Found Errors**
```bash
# Create local configuration
npm run version:init
```

### **Version Conflicts**
```bash
# Reset to template values
npm run version:reset
```

### **Build Issues**
```bash
# Check configuration sources
npm run version:status
```

## Best Practices

1. **Always commit** `version-config.template.json` changes
2. **Never commit** `version-config.local.json`
3. **Use template** as the source of truth
4. **Reset local** when syncing with team
5. **Check status** before builds to verify configuration

This hybrid approach gives you the best of both worlds: team coordination through committed templates and local flexibility through gitignored local files.
